### Defining the access model of your API
You should think about if your API can/should be divided into different authorization levels that an application talking to it can have. Each authorization level should be given a so called scope, i.e one choice could be that your API has the scopes `read:coupons`and `delete:coupons`. Then, through the configured OAuth2 infrastructure of Coop, some trusted clients would be able to request both these scopes. When you get an access token from a client, you will only have to verify that both these scopes are present (after performing the regular token validation explained below) to be sure that you can handle the request. Once you have decided this, the configuration would have to be done in dialogue with one of the admins of the OAuth2 infrastructure (Idp team) of Coop.

### Access token validation
The authorization server's job is to give the clients an access token for you API. Remember that it is your API that has to validate that the token supplied by a client trying to access data is signed by the authorization server and that it contains the right scopes for the request it's trying to do. For details on how to perform validation, see the [auth0 docs](https://auth0.com/docs/tokens/access-tokens/validate-access-tokens).

### Who the user is
In the access token, there is no data about who the user is except for the `sub` field. If you need to know this, which is often the case, you can ask the `/userinfo` endpoint of the authorization server with a GET request, using the access token in the authorization header. The data returned tells you who the user is. The link between a `sub` identifier and the corresponding user can be cached for performance, but not for too long as the user may theoretically change its user info at the authorization server.